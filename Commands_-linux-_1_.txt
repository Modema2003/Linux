                                                             Мерион Нетворкс

                                                             w:​​wiki.merionet.ru

                                                             e:​​contact@merionet.ru




настольная книга сисадмина

Полное р
       ​ уководство по
командам ​Linux
самое важное




Вводная
Друг, этот документ написали инженеры нашей компании - ​Мерион Нетворкс​. Мы
любим технологии и наше сообщество. В этом руководстве ты найдешь самые
важные команды ​Unix-подобных о
                              ​ перационных систем. Для твоего удобства,
команды сгруппированы по назначению.


Сохрани себе, отправь коллегам




                                         Мерион Нетворкс​➝ ​wiki.merionet.ru
Вводная                                                                  1

Полное руководство по командам Linux                                     3
    СПИСОК КОМАНД LINUX                                                 3
    ИНФОРМАЦИЯ ОБ ОБОРУДОВАНИИ                                          4
    ПОИСК                                                                5
    ФАЙЛЫ                                                               6
    НАВИГАЦИЯ                                                          10
    СЖАТИЕ ФАЙЛОВ                                                      10
    ПЕРЕДАЧА ФАЙЛОВ                                                    11
    ПОЛЬЗОВАТЕЛИ                                                       12
    УСТАНОВКА ПАКЕТА                                                   13
    ПРОЦЕССЫ                                                           15
    СИСТЕМНАЯ ИНФОРМАЦИЯ                                               17
    ИСПОЛЬЗОВАНИЕ ДИСКА                                                19
    SSH                                                                20
    РАЗРЕШЕНИЕ ФАЙЛОВ                                                  21
    СЕТЬ                                                               22
    СОЧЕТАНИЯ КЛАВИШ LINUX                                             25
    ЗАКЛЮЧЕНИЕ                                                         27




2                                      Мерион Нетворкс➝ ​​wiki.merionet.ru
Полное руководство по командам
Linux

Команды ​Linux​могут показаться пугающими на первый взгляд, если вы
не привыкли использовать терминал. Для выполнения операций и
процессов в вашей системе ​Linux​существует огромное количество
команд.


Независимо от того, являетесь ли вы новичком в ​Linux​или опытным
пользователем, полезно иметь список общих команд под рукой. В этом
руководстве вы найдете часто используемые команды ​Linux​, а также
загружаемую шпаргалку (так называемый ​cheatsheet​) с синтаксисом и
примерами.


СПИСОК КОМАНД LINUX

Важное замечание: В зависимости от настроек вашей системы для
выполнения некоторых из приведенных ниже команд может
потребоваться запуск ​sudo​.




3                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
ИНФОРМАЦИЯ ОБ ОБОРУДОВАНИИ
Показать сообщения, которые выводило ядро во время загрузки:


dmesg


Показать информацию о процессоре:


cat​ /​
      proc​
          /cpuinfo


Показать свободную и использованную память:


free​ -h


Список информации о конфигурации оборудования:


lshw


Показать информацию о блочных устройствах:


lsblk


Показать устройства PCI в древовидной схеме:


lsblk




4                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Отображение USB-устройств в виде древовидной диаграммы:


lsusb -tv


Показать информацию об оборудовании из BIOS:


dmidecode


Показать информацию о диске:


        i​ /dev/disk
hdparm -​


Провести тест скорости чтения на устройстве/диске:


hdparm -tT /dev/​
                [device]


Проверка на нечитаемые блоки на устройстве/диске:


badblocks -s /dev/​
                  [device]




ПОИСК
Поиск определенного паттерна в файле:


grep ​
     [pattern]​ ​
                [file_name]




5                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
Рекурсивно искать паттерн в каталоге:


grep -r ​
        [pattern]​ ​
                   [directory_name]


Найти все файлы и каталоги, связанные с конкретным именем:


locate ​
       [name]



Вывести список имен, начинающиеся с указанного символа ​
                                                       a​в
указанном месте ​               , с помощью команды ​
                /folder/location​                   find​
                                                        :



find ​
     [/folder/location]​ -name ​
                               [a]



Просмотр файлов, размер которых превышает указанный размер ​
                                                           +
100M​в папке:



find​ [​
       /folder/​
               location] -​
                          size​ [+​
                                  100​
                                     M]




ФАЙЛЫ
Список файлов в каталоге:


ls




6                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
Список всех файлов (включая скрытые):


ls -a


Показать каталог, в котором вы сейчас работаете:


pwd


Создать новый каталог:


mkdir​ [​
        directory​
                 ]


Удалить файл:


rm ​
   [file_name]


Удалить каталог рекурсивно:


rm -r ​
      [directory_name]


Рекурсивно удалить каталог без подтверждения:


rm -rf ​
       [directory_name]




7                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
Скопировать содержимое одного файла в другой файл:


cp ​
   [file_name1]​ ​
                 [file_name2]


Рекурсивно скопировать содержимое одного файла во второй файл:


cp -r ​
      [directory_name1]​ ​
                         [directory_name2]


Переименовать ​
              имя_файла1​в ​         :
                           имя_файла2​


mv ​
   [file_name1]​ ​
                 [file_name2]


Создать символическую ссылку на файл:


               [file_name]​ ​
ln -s /path/to/​            [link_name]


Создать новый файл:


touch ​
      [file_name]


Показать содержимое файла:


more ​
     [file_name]




8                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
Показать первые 10 строк файла:


head ​
     [file_name]


Показать последние 10 строк файла:


tail ​
     [file_name]


Зашифровать файл:


gpg -c ​
       [file_name]


Расшифровать файл:


gpg ​
    [file_name.gpg]


Показать количество слов, строк и байтов в файле:


wc




9                                      Мерион Нетворкс➝ ​​wiki.merionet.ru
НАВИГАЦИЯ
Подняться на один уровень вверх в структуре дерева каталогов:


cd​ ..


Перейти в каталог ​
                  $ HOME:


cd


Изменить местоположение на указанный каталог:


cd​ ​
    /chosen/directory




СЖАТИЕ ФАЙЛОВ
Заархивировать существующий файл:


tar cf ​
       [compressed_file.tar]​ ​
                              [file_name]


Извлечь заархивированный файл:


tar xf ​
       [compressed_file.tar]




10                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Создайте сжатый ​
                gzip​tar-файл:


tar czf [compressed_file​
                        .tar.gz​
                               ]


Сжать файл с расширением .gz:


gzip ​
     [file_name]




ПЕРЕДАЧА ФАЙЛОВ
Скопировать файл в каталог сервера через ssh:


scp ​
    [file_name.txt]​ ​
                     [server/tmp]


Синхронизировать содержимое каталога с резервным каталогом:


rsync -a ​
         [/your/directory]​ ​
                            [/backup/]




11                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
ПОЛЬЗОВАТЕЛИ
Показать подробности об активных пользователях:


id


Показать последние системные логины:


last


Показать, кто в данный момент вошел в систему:


who


Показать, какие пользователи вошли в систему и их активность:


w


Добавить новую группу:


groupadd ​
         [group_name]


Добавить нового пользователя:


adduser ​
        [user_name]




12                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Добавить пользователя в группу:


usermod -aG ​
            [group_name]​ ​
                          [user_name]


Удалить пользователя:


userdel ​
        [user_name]


Изменить информацию о пользователе:


usermod




УСТАНОВКА ПАКЕТА
Список всех установленных пакетов с ​
                                    yum​
                                       :


yum ​
    list​ installed


Найти пакет по связанному ключевому слову:


yum search ​
           [keyword]


Показать информацию и краткую сводку о пакете:


yum​ ​
     info​ [package_name]




13                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Установить пакет с помощью менеджера пакетов >YUM:


yum install ​
            [package_name.rpm]


Установить пакет с помощью менеджера пакетов >DNF:


dnf install ​
            [package_name.rpm]


Установить пакет с помощью менеджера пакетов >APT:


apt-​
    get​ install [package_name]


Установить пакет ​
                 .rpm​из локального файла:


     i​ [package_name.rpm]
rpm -​


Удалить пакет ​   :
              .rpm​


rpm -e ​
       [package_name.rpm]




14                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Установить программное обеспечение из исходного кода:


tar zxvf [source_code​
                     .tar.gz​
                            ]
cd [source_code]
./configure
make
make install




ПРОЦЕССЫ
Показать снимок активных процессов:


ps


Показать процессы в древовидной диаграмме:


pstree


Показать карту использования памяти процессами:


pmap


Показать все запущенные процессы:


pmap




15                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Завершить процесс Linux с заданным идентификатором:


kill ​
     [process_id]


Завершить процесс с определенным именем:


pkill ​
      [proc_name]


Завершите все процессы, помеченные как ​   :
                                       proc​


killall ​
        [proc_name]


Список и сводка остановленных заданий в фоновом режиме:


bg


Перевод последней фоновой задачи в активный режим:


fg


Перевод конкретной задачи в активный режим:


fg ​
   [job]




16                                   Мерион Нетворкс➝ ​​wiki.merionet.ru
Список файлов, открытых запущенными процессами:


lsof




СИСТЕМНАЯ ИНФОРМАЦИЯ
Показать информацию о системе:


uname -r


Показать информацию о релизе ядра:


uname -a


Показать, как долго работает система, включая среднюю нагрузку:


uptime


Показать имя хоста системы:


hostname




17                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Показать ​
         IP-адрес​системы:


hostname -i


История перезагрузки системы:


last​ reboot


Показать текущее время и дату:


date


Запрос и изменение системных часов:


timedatectl


Показать текущий календарь (месяц и день):


cal


Список залогиненных пользователей:


w




18                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Показать текущего пользователя:


whoami


Показать информацию о конкретном пользователе:


finger ​
       [username]




ИСПОЛЬЗОВАНИЕ ДИСКА
Показать свободное и использованное пространство на
смонтированных системах:


df -h



Показать свободные иноды (inode) на смонтированных файловых
системах:



df -i


Показать разделы диска, размеры и типы:


fdisk -l




19                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Показать использование диска для всех файлов и каталогов:


du -ah


Показать использование диска в каталоге, в котором вы находитесь:


du -sh


Показать целевую точку монтирования для всей файловой системы:


findmnt


Смонтировать устройство:


mount ​
      [device_path]​ ​
                     [mount_point]




SSH
Подключиться к хосту как пользователь:


ssh​ user​
         @host



Подключиться к хосту через SSH порт по умолчанию ​ :
                                                 22​


ssh host




20                                       Мерион Нетворкс➝ ​​wiki.merionet.ru
Подключиться к хосту, используя определенный порт:


ssh​ ​
     -p​ [port] ​   @​
                user​ host


Подключиться к хосту через telnet порт по умолчанию ​ :
                                                    23​


telnet host




РАЗРЕШЕНИЕ ФАЙЛОВ
Назначить права​на чтение, запись и выполнение всем:


chmod ​
      777​ ​
           [file_name]



Дать владельцу право на чтение, запись и выполнение, а также
разрешение на чтение и выполнение для группы и других
пользователей:



chmod ​
      755​ ​
           [file_name]




21                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Назначить полное разрешение владельцу, а также разрешение на
чтение и запись для группы и других пользователей:



chmod ​
      766​ ​
           [file_name]


Изменить владельца файла:


chown ​
      [user]​ ​
              [file_name]


Изменить владельца и групповое владение файлом:


chown ​     :​
      [user]​ [group]​ ​
                       [file_name]




СЕТЬ
Список IP-адресов и сетевых интерфейсов:


ip​ ​
    addr ​
         show


Назначить IP-адрес интерфейсу ​   :
                              eth0​


ip​ address add​ [IP_address]




22                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Отображение IP-адресов всех сетевых интерфейсов:


ifconfig


Показать активные (прослушиваемые) порты:


netstat -pnltu


Показать порты tcp и udp и их программы:


netstat -nutlp


Показать больше информации о домене:


whois ​
      [domain]


Показать DNS информацию о домене:


dig ​
    [domain]


Обратный поиск по домену:


dig -x host




23                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
Обратный поиск IP-адреса:


dig -x host


Поиск IP для домена:


host ​
     [domain]


Показать локальный IP-адрес:


hostname -I


Скачать файл из д​
                 омена с помощью команды ​wget​:


wget ​
     [file_name]




24                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
СОЧЕТАНИЯ КЛАВИШ LINUX
Убить процесс, запущенный в терминале:


Ctrl + ​
       C


Остановить текущий процесс:


Ctrl​ + Z


Вырезать одно слово перед курсором и добавить его в буфер обмена:


Ctrl​ + W


Вырезать часть строки перед курсором и добавить ее в буфер обмена:


Ctrl​ + U


Вырезать часть строки после курсора и добавить ее в буфер обмена:


Ctrl + ​
       K


Вставить из буфера обмена:


Ctrl​ + R




25                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
Вызвать последнюю команду, которая соответствует
предоставленным символам:


Ctrl​ + R


Запустите ранее вызванную команду:


Ctrl + ​
       O


Выйти из истории команд без выполнения команды:


Ctrl​ + G


Запустить последнюю команду еще раз:


!!


Выйти из текущей сессии:


exit




26                                     Мерион Нетворкс➝ ​​wiki.merionet.ru
ЗАКЛЮЧЕНИЕ
Чем чаще вы используете команды Linux, тем лучше вы их запомните.
Не переживайте о запоминании их синтаксиса - используйте наш
шпаргалку.


А больше материалов про ​
                        Linux​можно найти в ​
                                            нашем разделе​
                                                         .




27                                    Мерион Нетворкс➝ ​​wiki.merionet.ru
